<!DOCTYPE html>
<html>
<head>
    <title>Leaflet GeoJSON Example</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
    integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
    crossorigin=""/>
    <style type="text/css">
        .leaflet-container{background-color:#c5e8ff;}
    </style>
</head>

<body>
    <div id="map" style="width: 100%; height: 100vh"></div>
    <script type="text/javascript" src="https://leafletjs.com/examples/choropleth/us-states.js"></script>
    
    <script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
    integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
    crossorigin=""></script>
    <script>
        var myGeoJSONPath = 'custom.geo.json';
        var myCustomStyle = {
            stroke: false,
            fill: true,
            fillColor: '#ef0000',
            fillOpacity: 1
        }
                // get color depending on population density value
                function getColor(d) {

            return  d > 1000 ? '#800026' :
                    d > 500  ? '#BD0026' :
                    d > 200  ? '#E31A1C' :
                    d > 100  ? '#FC4E2A' :
                    d > 50   ? '#FD8D3C' :
                    d > 20   ? '#FEB24C' :
                    d > 10   ? '#FED976' :
                               '#f6fcd680';
        }
    
        function style(feature) {
            return {
                weight: 2,
                opacity: 1,
                stroke: false,
                color: 'white',
                dashArray: '3',
                fillOpacity: 0.8,
                fillColor: getColor(feature.properties.infected)
            };
        }
        function onEachFeature(feature, layer) {
		var popupContent = "<p>Number of infected " +
				feature.properties.infected + ", but now I'm a Leaflet vector!</p>";

		if (feature.properties && feature.properties.popupContent) {
			popupContent += feature.properties.popupContent;
		}

		layer.bindPopup(popupContent);
	    }
        
        $.getJSON(myGeoJSONPath,function(data){
            var map = L.map('map', {
            minZoom: 2,
            maxZoom: 6,
            dragging: true
        });

        var cartodbAttribution = '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="https://carto.com/attribution">CARTO</a>';

        var positron = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png', {
            attribution: cartodbAttribution
        }).addTo(map);
            L.geoJson(data, {
                clickable: true,
                style: style,
                onEachFeature: onEachFeature
            }).addTo(map);
            map.setView([0, 0], 0);
        })
    </script>
</body>
</html>
